{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport { Entypo, Feather } from \"@expo/vector-icons\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Masonry from \"react-native-masonry-layout\";\nimport Pin from \"../components/Pin\";\nimport { useNhostClient, useSignOut, useUserDisplayName, useUserId } from \"@nhost/react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ProfileScrren() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      userDisplayName = _useState2[0],\n      setUserdisplayName = _useState2[1];\n\n  var name = useUserDisplayName();\n  var GET_USER_PINS = \"query MyQuery ($id: uuid ){\\n  pins(where: {user_id: {_eq:$id}}) {\\n    image\\n    id\\n    title\\n  }\\n}\";\n  var refs = React.useRef();\n  var nhost = useNhostClient();\n  var currentUserId = useUserId();\n\n  var load = function _callee() {\n    var response;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(nhost.graphql.request(GET_USER_PINS, {\n              id: currentUserId\n            }));\n\n          case 2:\n            response = _context.sent;\n            console.log(response);\n\n            if (response) {\n              refs.current.addItems(response.data.pins);\n            }\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  React.useEffect(function () {\n    setUserdisplayName(name);\n\n    if (refs != null && refs.current) {\n      load();\n    }\n  }, []);\n\n  var _useSignOut = useSignOut(),\n      signOut = _useSignOut.signOut;\n\n  return _jsxs(ScrollView, {\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsxs(View, {\n        style: styles.icons,\n        children: [_jsx(Feather, {\n          name: \"share\",\n          size: 20,\n          style: styles.icon\n        }), _jsx(Entypo, {\n          name: \"dots-three-horizontal\",\n          size: 20,\n          style: styles.icon,\n          onPress: signOut\n        })]\n      }), _jsx(Image, {\n        source: {\n          uri: \"https://scontent.ftun10-1.fna.fbcdn.net/v/t39.30808-6/271248472_4638296892924409_4936450570907656593_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=09cbfe&_nc_ohc=r5yB7dCe8QMAX86w-xE&_nc_ht=scontent.ftun10-1.fna&oh=00_AT929TUksd_1RyxGugeWyxCueM4pW4qf4RJsoYZwhiAytg&oe=62ED393B\"\n        },\n        style: styles.profileImg\n      }), _jsx(Text, {\n        style: styles.title,\n        children: userDisplayName\n      }), _jsx(Text, {\n        style: styles.subTitle,\n        children: \"152 Following | 565 Followers \"\n      })]\n    }), _jsx(Masonry, {\n      ref: refs,\n      columns: 2,\n      renderItem: function renderItem(item, index) {\n        return _jsx(Pin, {\n          pin: {\n            uri: item.image,\n            title: item.title,\n            id: item.id\n          }\n        }, index);\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  header: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  icons: {\n    flexDirection: \"row\",\n    alignSelf: \"flex-end\",\n    margin: 5\n  },\n  icon: {\n    padding: 10\n  },\n  title: {\n    marginTop: 10,\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  subTitle: {\n    fontSize: 15,\n    fontWeight: \"600\",\n    margin: 10\n  },\n  profileImg: {\n    width: 150,\n    height: 150,\n    borderRadius: 100,\n    marginTop: 20\n  }\n});","map":{"version":3,"names":["React","useState","Entypo","Feather","Masonry","Pin","useNhostClient","useSignOut","useUserDisplayName","useUserId","ProfileScrren","userDisplayName","setUserdisplayName","name","GET_USER_PINS","refs","useRef","nhost","currentUserId","load","graphql","request","id","response","console","log","current","addItems","data","pins","useEffect","signOut","styles","header","icons","icon","uri","profileImg","title","subTitle","item","index","image","StyleSheet","create","flex","alignItems","justifyContent","flexDirection","alignSelf","margin","padding","marginTop","fontSize","fontWeight","width","height","borderRadius"],"sources":["D:/react-native workSpace/vadimProjectNotjustDev/Printerest/PrinterestMyClone/screens/ProfileScreen.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Entypo, Feather } from \"@expo/vector-icons\";\nimport { StyleSheet, View, Text, Image, ScrollView } from \"react-native\";\n\nimport Masonry from \"react-native-masonry-layout\";\nimport Pin from \"../components/Pin\";\nimport {\n  NhostClient,\n  useNhostClient,\n  useSignOut,\n  useUserDisplayName,\n  useUserEmail,\n  useUserId,\n} from \"@nhost/react\";\n\nexport default function ProfileScrren() {\n  const [userDisplayName, setUserdisplayName] = useState(\"\");\n  const name = useUserDisplayName();\n\n\n  const GET_USER_PINS = `query MyQuery ($id: uuid ){\n  pins(where: {user_id: {_eq:$id}}) {\n    image\n    id\n    title\n  }\n}`;\n\n  const refs = React.useRef();\n\n  const nhost = useNhostClient();\n  const currentUserId = useUserId();\n  const load = async () => {\n    //in this request i query from pins by userId or we need data about user also\n    //so better query that I query from user by userId and get also pins of that user \n    const response = await nhost.graphql.request(GET_USER_PINS, {\n      id: currentUserId,\n    });\n\n    console.log(response);\n    if (response) {\n      refs.current.addItems(response.data.pins);\n    }\n  };\n\n  React.useEffect(() => {\n    setUserdisplayName(name);\n\n    if (refs?.current) {\n      load();\n    }\n  }, []);\n\n  const { signOut } = useSignOut();\n\n  return (\n    <ScrollView>\n      <View style={styles.header}>\n        <View style={styles.icons}>\n          <Feather name={\"share\"} size={20} style={styles.icon} />\n          <Entypo\n            name={\"dots-three-horizontal\"}\n            size={20}\n            style={styles.icon}\n            onPress={signOut}\n          />\n        </View>\n        <Image\n          source={{\n            uri: \"https://scontent.ftun10-1.fna.fbcdn.net/v/t39.30808-6/271248472_4638296892924409_4936450570907656593_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=09cbfe&_nc_ohc=r5yB7dCe8QMAX86w-xE&_nc_ht=scontent.ftun10-1.fna&oh=00_AT929TUksd_1RyxGugeWyxCueM4pW4qf4RJsoYZwhiAytg&oe=62ED393B\",\n          }}\n          style={styles.profileImg}\n        />\n        <Text style={styles.title}>{userDisplayName}</Text>\n        <Text style={styles.subTitle}>152 Following | 565 Followers </Text>\n      </View>\n\n      <Masonry\n        ref={refs}\n        /*  style={{ flex: 1, borderWidth: 1, borderColor: 'red' }} */\n        columns={2} // optional - Default: 2\n        renderItem={(item, index) => (\n          <Pin\n            key={index}\n            pin={{ uri: item.image, title: item.title, id: item.id }}\n          />\n        )}\n      />\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  header: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  icons: {\n    flexDirection: \"row\",\n    alignSelf: \"flex-end\",\n    margin: 5,\n  },\n  icon: {\n    padding: 10,\n  },\n  title: {\n    marginTop: 10,\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n  subTitle: {\n    fontSize: 15,\n    fontWeight: \"600\",\n    margin: 10,\n  },\n  profileImg: {\n    width: 150,\n    height: 150,\n    borderRadius: 100,\n    marginTop: 20,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}