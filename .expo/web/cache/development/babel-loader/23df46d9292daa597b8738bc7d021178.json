{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useNhostClient } from \"@nhost/react\";\nimport { useState, useEffect } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar RemoteImg = function RemoteImg(_ref) {\n  var pinImg = _ref.pinImg,\n      radius = _ref.radius;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      ratio = _useState2[0],\n      setRatio = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      imgUri = _useState4[0],\n      setImgUri = _useState4[1];\n\n  console.log(pinImg);\n  console.log(radius);\n  var nhost = useNhostClient();\n\n  var fetchImg = function _callee() {\n    var _await$nhost$storage$, presignedUrl, error;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(nhost.storage.getPresignedUrl({\n              fileId: pinImg\n            }));\n\n          case 2:\n            _await$nhost$storage$ = _context.sent;\n            presignedUrl = _await$nhost$storage$.presignedUrl;\n            error = _await$nhost$storage$.error;\n\n            if (presignedUrl) {\n              setImgUri(presignedUrl.url);\n            }\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    fetchImg();\n    Image.getSize(imgUri, function (width, height) {\n      return setRatio(width / height);\n    });\n  }, [pinImg]);\n  return _jsx(Image, {\n    source: {\n      uri: imgUri\n    },\n    style: [styles.img, {\n      aspectRatio: ratio,\n      borderRadius: radius ? radius : 0\n    }]\n  });\n};\n\nexport default RemoteImg;\nvar styles = StyleSheet.create({\n  img: {\n    width: \"100%\",\n    borderTopLeftRadius: 30,\n    borderTopRightRadius: 30\n  }\n});","map":{"version":3,"names":["useNhostClient","useState","useEffect","RemoteImg","pinImg","radius","ratio","setRatio","imgUri","setImgUri","console","log","nhost","fetchImg","storage","getPresignedUrl","fileId","presignedUrl","error","url","Image","getSize","width","height","uri","styles","img","aspectRatio","borderRadius","StyleSheet","create","borderTopLeftRadius","borderTopRightRadius"],"sources":["D:/react-native workSpace/vadimProjectNotjustDev/Printerest/PrinterestMyClone/components/RemoteImg.tsx"],"sourcesContent":["import { useNhostClient } from \"@nhost/react\";\r\nimport { useRoute } from \"@react-navigation/native\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Image, StyleSheet } from \"react-native\";\r\n\r\nconst RemoteImg = ({ pinImg, radius }) => {\r\n  const [ratio, setRatio] = useState(1);\r\n  const [imgUri, setImgUri] = useState(\"\");\r\n\r\n  console.log(pinImg);\r\nconsole.log(radius)\r\n  const nhost = useNhostClient();\r\n\r\n  const fetchImg = async () => {\r\n    const { presignedUrl, error } = await nhost.storage.getPresignedUrl({\r\n      fileId: pinImg,\r\n    });\r\n    if (presignedUrl) {\r\n      setImgUri(presignedUrl.url);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchImg();\r\n    Image.getSize(imgUri, (width, height) => setRatio(width / height));\r\n  }, [pinImg]);\r\n\r\n  return (\r\n    <Image\r\n      source={{\r\n        uri: imgUri,\r\n      }}\r\n      style={[\r\n        styles.img,\r\n        { aspectRatio: ratio, borderRadius: radius ? radius : 0 },\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RemoteImg;\r\n\r\nconst styles = StyleSheet.create({\r\n  img: {\r\n    width: \"100%\",\r\n     borderTopLeftRadius: 30,\r\n    borderTopRightRadius: 30,\r\n }, \r\n});\r\n"],"mappings":";;AAAA,SAASA,cAAT,QAA+B,cAA/B;AAEA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;;;;AAGA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAwB;EAAA,IAArBC,MAAqB,QAArBA,MAAqB;EAAA,IAAbC,MAAa,QAAbA,MAAa;;EACxC,gBAA0BJ,QAAQ,CAAC,CAAD,CAAlC;EAAA;EAAA,IAAOK,KAAP;EAAA,IAAcC,QAAd;;EACA,iBAA4BN,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOO,MAAP;EAAA,IAAeC,SAAf;;EAEAC,OAAO,CAACC,GAAR,CAAYP,MAAZ;EACFM,OAAO,CAACC,GAAR,CAAYN,MAAZ;EACE,IAAMO,KAAK,GAAGZ,cAAc,EAA5B;;EAEA,IAAMa,QAAQ,GAAG;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACuBD,KAAK,CAACE,OAAN,CAAcC,eAAd,CAA8B;cAClEC,MAAM,EAAEZ;YAD0D,CAA9B,CADvB;;UAAA;YAAA;YACPa,YADO,yBACPA,YADO;YACOC,KADP,yBACOA,KADP;;YAIf,IAAID,YAAJ,EAAkB;cAChBR,SAAS,CAACQ,YAAY,CAACE,GAAd,CAAT;YACD;;UANc;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAjB;;EASAjB,SAAS,CAAC,YAAM;IACdW,QAAQ;IACRO,KAAK,CAACC,OAAN,CAAcb,MAAd,EAAsB,UAACc,KAAD,EAAQC,MAAR;MAAA,OAAmBhB,QAAQ,CAACe,KAAK,GAAGC,MAAT,CAA3B;IAAA,CAAtB;EACD,CAHQ,EAGN,CAACnB,MAAD,CAHM,CAAT;EAKA,OACE,KAAC,KAAD;IACE,MAAM,EAAE;MACNoB,GAAG,EAAEhB;IADC,CADV;IAIE,KAAK,EAAE,CACLiB,MAAM,CAACC,GADF,EAEL;MAAEC,WAAW,EAAErB,KAAf;MAAsBsB,YAAY,EAAEvB,MAAM,GAAGA,MAAH,GAAY;IAAtD,CAFK;EAJT,EADF;AAWD,CAjCD;;AAmCA,eAAeF,SAAf;AAEA,IAAMsB,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;EAC/BJ,GAAG,EAAE;IACHJ,KAAK,EAAE,MADJ;IAEFS,mBAAmB,EAAE,EAFnB;IAGHC,oBAAoB,EAAE;EAHnB;AAD0B,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}